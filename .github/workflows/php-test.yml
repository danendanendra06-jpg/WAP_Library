name: PHP Syntax Checker

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  php-lint:
    # Karena kamu sudah setup runner di laptop, kita pakai itu lagi
    runs-on: my-laptop
    
    steps:
    # 1. Ambil kodingan terbaru dari repository
    - name: Checkout Code
      uses: actions/checkout@v3

    # 2. Cek Versi PHP yang terinstall di laptop
    - name: Check PHP Version
      run: php -v

    # 3. Cek Syntax Error di semua file .php (Linting)
    # Perintah ini akan mencari semua file .php dan mengeceknya satu per satu
    - name: Run PHP Lint (Syntax Check)
      run: find . -name "*.php" -print0 | xargs -0 -n1 php -l
